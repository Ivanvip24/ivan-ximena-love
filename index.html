<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iv√°n & Ximena | Our Universe</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&family=Caveat:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --deep-forest: #0d1f0d;
            --forest: #1a3a1a;
            --sage: #4a7c59;
            --mint: #7fb285;
            --gold: #d4a574;
            --gold-light: #e8c9a0;
            --cream: #f5f2eb;
            --white: #fefefe;
            --text-light: rgba(254, 254, 254, 0.9);
            --text-muted: rgba(254, 254, 254, 0.6);
            --rose: #e8a4b8;
            --rose-dark: #c77d93;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--deep-forest);
            color: var(--text-light);
            overflow-x: hidden;
            line-height: 1.6;
        }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--deep-forest); }
        ::-webkit-scrollbar-thumb { background: var(--sage); border-radius: 3px; }

        /* Background */
        .bg-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .gradient-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.4;
            animation: float 20s ease-in-out infinite;
        }

        .orb-1 { width: 600px; height: 600px; background: radial-gradient(circle, var(--sage) 0%, transparent 70%); top: -200px; left: -200px; }
        .orb-2 { width: 500px; height: 500px; background: radial-gradient(circle, var(--gold) 0%, transparent 70%); bottom: -150px; right: -150px; animation-delay: -7s; }
        .orb-3 { width: 400px; height: 400px; background: radial-gradient(circle, var(--mint) 0%, transparent 70%); top: 50%; left: 50%; transform: translate(-50%, -50%); animation-delay: -14s; }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(50px, -30px) scale(1.05); }
            50% { transform: translate(-30px, 50px) scale(0.95); }
            75% { transform: translate(-50px, -20px) scale(1.02); }
        }

        .stars { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        .star { position: absolute; width: 3px; height: 3px; background: var(--gold-light); border-radius: 50%; animation: twinkle 3s ease-in-out infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.3; transform: scale(1); } 50% { opacity: 1; transform: scale(1.2); } }

        /* Floating Words */
        .floating-words {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            overflow: hidden;
        }

        .floating-word {
            position: absolute;
            font-family: 'Caveat', cursive;
            color: var(--gold);
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
        }

        .floating-word.style-1 { color: var(--gold); }
        .floating-word.style-2 { color: var(--mint); }
        .floating-word.style-3 { color: var(--rose); }
        .floating-word.style-4 { color: var(--sage); }

        @keyframes fadeInOut {
            0% { opacity: 0; }
            20% { opacity: 0.25; }
            50% { opacity: 0.3; }
            80% { opacity: 0.25; }
            100% { opacity: 0; }
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0; left: 0; right: 0;
            padding: 1.5rem 3rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            background: linear-gradient(to bottom, var(--deep-forest), transparent);
        }

        .nav-logo { font-family: 'Cormorant Garamond', serif; font-size: 1.5rem; font-weight: 300; letter-spacing: 0.1em; color: var(--gold); }
        .nav-links { display: flex; gap: 2.5rem; list-style: none; }
        .nav-links a { color: var(--text-muted); text-decoration: none; font-size: 0.85rem; letter-spacing: 0.15em; text-transform: uppercase; transition: color 0.3s ease; position: relative; }
        .nav-links a::after { content: ''; position: absolute; bottom: -4px; left: 0; width: 0; height: 1px; background: var(--gold); transition: width 0.3s ease; }
        .nav-links a:hover { color: var(--gold); }
        .nav-links a:hover::after { width: 100%; }

        .section-label { font-size: 0.8rem; letter-spacing: 0.3em; text-transform: uppercase; color: var(--sage); margin-bottom: 1rem; text-shadow: 0 2px 8px rgba(0,0,0,0.8), 0 0 20px rgba(0,0,0,0.5); }
        .section-title { font-family: 'Cormorant Garamond', serif; font-size: clamp(2.5rem, 5vw, 4rem); font-weight: 300; margin-bottom: 2rem; color: var(--cream); text-shadow: 0 2px 10px rgba(0,0,0,0.9), 0 0 30px rgba(0,0,0,0.6); }

        /* Hero */
        .hero { min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 2rem; position: relative; }
        .hero-content { opacity: 0; animation: fadeInUp 1.5s ease forwards; animation-delay: 0.5s; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
        .hero-prelude { font-size: 0.9rem; letter-spacing: 0.3em; text-transform: uppercase; color: var(--gold); margin-bottom: 2rem; opacity: 0; animation: fadeInUp 1s ease forwards; animation-delay: 0.3s; text-shadow: 0 2px 10px rgba(0,0,0,0.9), 0 0 20px rgba(0,0,0,0.6); }
        .hero-names { font-family: 'Cormorant Garamond', serif; font-size: clamp(4rem, 12vw, 10rem); font-weight: 300; line-height: 1; margin-bottom: 1rem; text-shadow: 0 4px 15px rgba(0,0,0,0.9), 0 0 40px rgba(0,0,0,0.7); }
        .hero-names .ampersand { display: block; font-size: 0.4em; color: var(--gold); margin: 0.5rem 0; font-style: italic; }
        .hero-date { font-family: 'Cormorant Garamond', serif; font-size: 1.2rem; font-style: italic; color: var(--text-muted); margin-top: 2rem; text-shadow: 0 2px 8px rgba(0,0,0,0.8), 0 0 15px rgba(0,0,0,0.5); }
        .hero-date span { color: var(--gold); }
        .scroll-indicator { position: absolute; bottom: 3rem; left: 50%; transform: translateX(-50%); display: flex; flex-direction: column; align-items: center; gap: 0.5rem; opacity: 0; animation: fadeInUp 1s ease forwards, bounce 2s ease-in-out infinite; animation-delay: 2s, 2.5s; }
        .scroll-indicator span { font-size: 0.7rem; letter-spacing: 0.2em; text-transform: uppercase; color: var(--text-muted); }
        .scroll-line { width: 1px; height: 60px; background: linear-gradient(to bottom, var(--gold), transparent); }
        @keyframes bounce { 0%, 100% { transform: translateX(-50%) translateY(0); } 50% { transform: translateX(-50%) translateY(10px); } }

        /* Counter */
        .counter-section { padding: 8rem 2rem; text-align: center; }
        .counter-grid { display: flex; justify-content: center; gap: 3rem; flex-wrap: wrap; max-width: 900px; margin: 0 auto 4rem; }
        .counter-item { text-align: center; padding: 2rem; background: rgba(74, 124, 89, 0.1); border: 1px solid rgba(74, 124, 89, 0.2); border-radius: 20px; min-width: 140px; backdrop-filter: blur(10px); transition: transform 0.3s ease, border-color 0.3s ease; }
        .counter-item:hover { transform: translateY(-5px); border-color: var(--gold); }
        .counter-number { font-family: 'Cormorant Garamond', serif; font-size: 4rem; font-weight: 300; color: var(--gold); line-height: 1; margin-bottom: 0.5rem; text-shadow: 0 2px 10px rgba(0,0,0,0.8), 0 0 20px rgba(0,0,0,0.5); }
        .counter-label { font-size: 0.75rem; letter-spacing: 0.2em; text-transform: uppercase; color: var(--text-muted); text-shadow: 0 2px 6px rgba(0,0,0,0.7); }
        .counter-message { font-family: 'Cormorant Garamond', serif; font-size: 1.5rem; font-style: italic; color: var(--mint); max-width: 600px; margin: 0 auto; text-shadow: 0 2px 8px rgba(0,0,0,0.8), 0 0 15px rgba(0,0,0,0.5); }

        /* ========== MUSIC SECTION - YOUTUBE ========== */
        .music-section { padding: 8rem 2rem; min-height: 80vh; position: relative; overflow: hidden; display: flex; flex-direction: column; align-items: center; }
        .music-header { text-align: center; margin-bottom: 4rem; }
        .music-quote { font-family: 'Cormorant Garamond', serif; font-size: 1.3rem; font-style: italic; color: var(--mint); max-width: 700px; margin: 0 auto; text-shadow: 0 2px 8px rgba(0,0,0,0.8), 0 0 15px rgba(0,0,0,0.5); }

        /* Vinyl Player */
        .vinyl-player {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }

        .vinyl-clickable {
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .vinyl-clickable:hover {
            transform: scale(1.05);
        }

        .vinyl {
            width: 280px;
            height: 280px;
            background: linear-gradient(135deg, #1a1a1a, #2d2d2d, #1a1a1a);
            border-radius: 50%;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), inset 0 0 80px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease;
        }

        .vinyl.playing {
            animation: spin 3s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .vinyl-grooves {
            position: absolute;
            top: 15%;
            left: 15%;
            right: 15%;
            bottom: 15%;
            border-radius: 50%;
            background: repeating-radial-gradient(
                circle at center,
                transparent 0px,
                transparent 2px,
                rgba(50, 50, 50, 0.5) 2px,
                rgba(50, 50, 50, 0.5) 4px
            );
        }

        .vinyl-shine {
            position: absolute;
            top: 5%;
            left: 5%;
            width: 40%;
            height: 40%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), transparent);
            border-radius: 50%;
            pointer-events: none;
        }

        .vinyl-label {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, var(--sage), var(--mint));
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .vinyl.playing .vinyl-label {
            background: linear-gradient(135deg, var(--gold), var(--rose));
        }

        .vinyl-label-icon {
            font-size: 1.5rem;
        }

        .vinyl-label-text {
            font-family: 'Cormorant Garamond', serif;
            font-size: 0.9rem;
            color: white;
            font-weight: 600;
            letter-spacing: 0.1em;
        }

        .player-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
            color: var(--cream);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--gold);
            color: var(--gold);
            transform: scale(1.1);
        }

        .control-btn.play-btn {
            width: 65px;
            height: 65px;
            font-size: 1.5rem;
            background: linear-gradient(135deg, var(--sage), var(--mint));
            border: none;
        }

        .control-btn.play-btn:hover {
            background: linear-gradient(135deg, var(--mint), var(--sage));
            transform: scale(1.1);
        }

        .now-playing-info {
            text-align: center;
            opacity: 1;
            transition: all 0.4s ease;
        }

        .current-song-label {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 6px rgba(0,0,0,0.7);
        }

        .current-song-name {
            font-family: 'Caveat', cursive;
            font-size: 1.5rem;
            color: var(--gold);
            max-width: 400px;
            text-shadow: 0 2px 8px rgba(0,0,0,0.8), 0 0 15px rgba(0,0,0,0.5);
        }


        .player-container { max-width: 1100px; margin: 0 auto; display: grid; grid-template-columns: 1.2fr 1fr; gap: 4rem; align-items: start; }

        /* YouTube Player */
        .youtube-player-wrapper { position: relative; }

        /* Visualizer */
        .visualizer { display: flex; align-items: flex-end; justify-content: center; gap: 3px; height: 60px; margin-top: 2rem; padding: 0.75rem 1.5rem; background: rgba(0, 0, 0, 0.3); border-radius: 30px; }
        .viz-bar { width: 4px; background: linear-gradient(to top, var(--sage), var(--gold), var(--rose)); border-radius: 2px; transition: height 0.15s ease; height: 8px; }
        .viz-bar.active { animation: vizPulse 0.4s ease-in-out infinite alternate; }
        @keyframes vizPulse { from { height: var(--min-height, 8px); } to { height: var(--max-height, 50px); } }

        /* Hidden YouTube iframe */
        #youtube-container {
            position: absolute;
            width: 1px;
            height: 1px;
            opacity: 0;
            pointer-events: none;
        }

        /* Player Info */
        .player-info { padding-top: 1rem; }
        .now-playing-label { font-size: 0.75rem; letter-spacing: 0.2em; text-transform: uppercase; color: var(--sage); margin-bottom: 0.5rem; }
        .song-title { font-family: 'Cormorant Garamond', serif; font-size: 1.8rem; color: var(--cream); margin-bottom: 0.25rem; line-height: 1.3; }
        .song-artist { font-size: 1rem; color: var(--text-muted); margin-bottom: 1.5rem; }

        .progress-container { margin-bottom: 1.5rem; }
        .progress-bar { width: 100%; height: 6px; background: rgba(255, 255, 255, 0.1); border-radius: 3px; cursor: pointer; position: relative; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--sage), var(--gold)); border-radius: 3px; width: 0%; transition: width 0.1s linear; }
        .time-display { display: flex; justify-content: space-between; font-size: 0.8rem; color: var(--text-muted); margin-top: 0.5rem; }

        .controls { display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem; }
        .control-btn { background: rgba(74, 124, 89, 0.2); border: 1px solid rgba(74, 124, 89, 0.3); color: var(--cream); width: 50px; height: 50px; border-radius: 50%; cursor: pointer; font-size: 1.2rem; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; }
        .control-btn:hover { background: var(--sage); border-color: var(--sage); transform: scale(1.1); }
        .control-btn.play-btn { width: 65px; height: 65px; background: linear-gradient(135deg, var(--sage), var(--mint)); border: none; font-size: 1.4rem; }
        .control-btn.play-btn:hover { transform: scale(1.15); box-shadow: 0 0 30px rgba(127, 178, 133, 0.4); }

        .volume-control { display: flex; align-items: center; gap: 0.75rem; }
        .volume-icon { color: var(--text-muted); font-size: 1.2rem; cursor: pointer; }
        .volume-slider { -webkit-appearance: none; width: 100px; height: 4px; background: rgba(255, 255, 255, 0.1); border-radius: 2px; outline: none; }
        .volume-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 14px; height: 14px; background: var(--gold); border-radius: 50%; cursor: pointer; }

        /* Playlist */
        .playlist-section { margin-top: 4rem; max-width: 900px; margin-left: auto; margin-right: auto; }
        .playlist-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem; }
        .playlist-title { font-family: 'Cormorant Garamond', serif; font-size: 1.5rem; color: var(--cream); }

        .add-song-form {
            display: flex;
            gap: 0.75rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .youtube-input {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(127, 178, 133, 0.3);
            border-radius: 25px;
            padding: 0.75rem 1.25rem;
            color: var(--cream);
            font-size: 0.9rem;
            width: 280px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .youtube-input:focus { border-color: var(--gold); }
        .youtube-input::placeholder { color: var(--text-muted); }

        .add-song-btn {
            background: linear-gradient(135deg, #ff0000, #cc0000);
            border: none;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .add-song-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(255, 0, 0, 0.2); }

        .playlist { background: rgba(0, 0, 0, 0.2); border-radius: 20px; overflow: hidden; max-height: 400px; overflow-y: auto; }
        .playlist-item { display: flex; align-items: center; padding: 1rem 1.5rem; cursor: pointer; transition: background 0.3s ease; border-bottom: 1px solid rgba(255, 255, 255, 0.05); }
        .playlist-item:last-child { border-bottom: none; }
        .playlist-item:hover { background: rgba(74, 124, 89, 0.2); }
        .playlist-item.active { background: rgba(212, 165, 116, 0.15); }
        .playlist-item-thumb { width: 50px; height: 50px; border-radius: 8px; object-fit: cover; margin-right: 1rem; background: rgba(0,0,0,0.3); }
        .playlist-item-info { flex: 1; }
        .playlist-item-title { color: var(--cream); font-size: 1rem; margin-bottom: 0.2rem; }
        .playlist-item-artist { color: var(--text-muted); font-size: 0.85rem; }
        .playlist-item-delete { background: none; border: none; color: var(--text-muted); cursor: pointer; padding: 0.5rem; opacity: 0; transition: all 0.3s ease; font-size: 1.2rem; }
        .playlist-item:hover .playlist-item-delete { opacity: 1; }
        .playlist-item-delete:hover { color: var(--rose); }

        /* ========== VISION BOARD / DREAMS ========== */
        .vision-section {
            padding: 8rem 2rem;
            background: linear-gradient(180deg, transparent, rgba(212, 165, 116, 0.03), transparent);
        }

        .vision-header { text-align: center; margin-bottom: 3rem; }
        .vision-subtitle {
            font-family: 'Caveat', cursive;
            font-size: 1.5rem;
            color: var(--gold);
            margin-top: 0.5rem;
        }

        .vision-toolbar {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .vision-add-btn {
            background: linear-gradient(135deg, var(--sage), var(--mint));
            border: none;
            color: white;
            padding: 1rem 2rem;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .vision-add-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(127, 178, 133, 0.3);
        }

        .vision-category-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-muted);
            padding: 0.75rem 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s ease;
        }

        .vision-category-btn:hover,
        .vision-category-btn.active {
            background: rgba(212, 165, 116, 0.2);
            border-color: var(--gold);
            color: var(--gold);
        }

        /* Vision Board */
        .vision-board {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .vision-card {
            background: linear-gradient(135deg, rgba(26, 58, 26, 0.6), rgba(13, 31, 13, 0.8));
            border: 1px solid rgba(127, 178, 133, 0.15);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            transition: all 0.4s ease;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            min-height: 320px;
        }

        .vision-card:hover {
            transform: translateY(-8px) rotate(1deg);
            border-color: var(--gold);
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.4);
        }

        .vision-card.size-small { min-height: 280px; }
        .vision-card.size-medium { min-height: 350px; }
        .vision-card.size-large { min-height: 420px; }

        .vision-card-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            flex-shrink: 0;
        }

        .vision-card-content {
            padding: 1.25rem;
            position: relative;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .vision-card-category {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            padding: 0.4rem 0.8rem;
            border-radius: 15px;
            font-size: 0.7rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--gold);
        }

        .vision-card-title {
            font-family: 'Caveat', cursive;
            font-size: 1.4rem;
            color: var(--cream);
            margin-bottom: 0.5rem;
        }

        .vision-card-text {
            font-size: 0.9rem;
            color: var(--text-muted);
            line-height: 1.5;
        }

        .vision-card-author {
            position: absolute;
            bottom: 1rem;
            right: 1rem;
            font-size: 0.8rem;
            color: var(--rose);
        }

        .vision-card-delete {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(0, 0, 0, 0.5);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s ease;
            font-size: 1rem;
        }

        .vision-card:hover .vision-card-delete { opacity: 1; }

        /* Default vision cards without images */
        .vision-card-icon {
            height: 150px;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            background: linear-gradient(135deg, rgba(74, 124, 89, 0.3), rgba(212, 165, 116, 0.2));
            flex-shrink: 0;
        }

        /* Polaroid style cards */
        .vision-card.polaroid {
            background: var(--cream);
            padding: 1rem 1rem 3rem 1rem;
            border-radius: 4px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .vision-card.polaroid .vision-card-image {
            height: auto;
            aspect-ratio: 1;
            border-radius: 2px;
        }

        .vision-card.polaroid .vision-card-content {
            padding: 1rem 0 0 0;
        }

        .vision-card.polaroid .vision-card-title {
            color: var(--deep-forest);
            text-align: center;
        }

        .vision-card.polaroid .vision-card-text {
            color: #666;
            text-align: center;
            font-size: 0.85rem;
        }

        /* Post-it style */
        .vision-card.postit {
            background: linear-gradient(135deg, #fef3a0, #f5e67a);
            border: none;
            border-radius: 2px;
            box-shadow: 3px 3px 15px rgba(0, 0, 0, 0.2);
            transform: rotate(-2deg);
        }

        .vision-card.postit:hover {
            transform: translateY(-8px) rotate(0deg);
        }

        .vision-card.postit .vision-card-icon {
            background: transparent;
            height: 40%;
        }

        .vision-card.postit .vision-card-content {
            padding: 1rem;
        }

        .vision-card.postit .vision-card-title {
            color: #5a4a00;
            font-size: 1.6rem;
        }

        .vision-card.postit .vision-card-text {
            color: #6b5a10;
        }

        /* Footer */
        footer { padding: 4rem 2rem; text-align: center; border-top: 1px solid rgba(74, 124, 89, 0.2); }
        .footer-hearts { font-size: 2rem; margin-bottom: 1rem; animation: heartbeat 1.5s ease-in-out infinite; }
        @keyframes heartbeat { 0%, 100% { transform: scale(1); } 14% { transform: scale(1.2); } 28% { transform: scale(1); } 42% { transform: scale(1.2); } 70% { transform: scale(1); } }
        .footer-text { font-family: 'Cormorant Garamond', serif; font-size: 1.2rem; color: var(--text-muted); text-shadow: 0 2px 8px rgba(0,0,0,0.8), 0 0 15px rgba(0,0,0,0.5); }
        .footer-text span { color: var(--gold); }
        .number-24 { position: fixed; bottom: 2rem; right: 2rem; font-family: 'Cormorant Garamond', serif; font-size: 1rem; color: var(--gold); opacity: 0.5; letter-spacing: 0.1em; }

        /* Vision Modal */
        /* ========== JOYITAS SECTION ========== */
        .joyitas-section {
            padding: 8rem 2rem;
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .joyitas-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .joyitas-subtitle {
            font-family: 'Caveat', cursive;
            font-size: 1.4rem;
            color: var(--gold);
            margin-top: 0.5rem;
        }

        .joyitas-container {
            position: relative;
            width: 320px;
            height: 280px;
            perspective: 1000px;
            cursor: pointer;
        }

        .joyita-card {
            position: absolute;
            width: 100%;
            height: 100%;
            padding: 2rem;
            border-radius: 4px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 4px 4px 15px rgba(0, 0, 0, 0.2);
            transform-origin: center center;
        }

        .joyita-card.color-0 { background: linear-gradient(135deg, #fef3a0, #f5e67a); }
        .joyita-card.color-1 { background: linear-gradient(135deg, #ffb3ba, #ff9aa2); }
        .joyita-card.color-2 { background: linear-gradient(135deg, #baffc9, #98fb98); }
        .joyita-card.color-3 { background: linear-gradient(135deg, #bae1ff, #87ceeb); }
        .joyita-card.color-4 { background: linear-gradient(135deg, #e2c4f5, #dda0dd); }

        .joyita-card .joyita-number {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 0.8rem;
            opacity: 0.5;
            color: #333;
        }

        .joyita-card .joyita-text {
            font-family: 'Caveat', cursive;
            font-size: 1.5rem;
            color: #333;
            line-height: 1.4;
        }

        .joyita-card .joyita-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .joyita-card.flying {
            animation: flyAway 0.6s ease-in forwards;
        }

        @keyframes flyAway {
            0% {
                transform: translateX(0) translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateX(400px) translateY(-200px) rotate(45deg);
                opacity: 0;
            }
        }

        .joyitas-hint {
            margin-top: 2rem;
            font-size: 0.9rem;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .joyitas-hint span {
            animation: tapHint 1.5s ease-in-out infinite;
        }

        @keyframes tapHint {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .joyitas-counter {
            margin-top: 1rem;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.1rem;
            color: var(--gold);
        }

        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.85); display: flex; align-items: center; justify-content: center; z-index: 2000; opacity: 0; visibility: hidden; transition: all 0.3s ease; padding: 2rem; }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        .modal { background: linear-gradient(135deg, var(--forest), var(--deep-forest)); border: 1px solid rgba(127, 178, 133, 0.3); border-radius: 24px; padding: 2.5rem; max-width: 500px; width: 100%; transform: scale(0.9); transition: transform 0.3s ease; max-height: 90vh; overflow-y: auto; }
        .modal-overlay.active .modal { transform: scale(1); }
        .modal-title { font-family: 'Cormorant Garamond', serif; font-size: 1.8rem; color: var(--cream); margin-bottom: 1.5rem; text-align: center; }
        .modal-input, .modal-textarea { width: 100%; background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 1rem; color: var(--cream); font-size: 1rem; margin-bottom: 1rem; outline: none; font-family: inherit; }
        .modal-textarea { min-height: 100px; resize: vertical; }
        .modal-input:focus, .modal-textarea:focus { border-color: var(--gold); }
        .modal-label { display: block; color: var(--text-muted); font-size: 0.85rem; margin-bottom: 0.5rem; }
        .modal-row { display: flex; gap: 1rem; }
        .modal-row > * { flex: 1; }
        .modal-select { width: 100%; background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 1rem; color: var(--cream); font-size: 1rem; margin-bottom: 1rem; outline: none; cursor: pointer; }
        .modal-file-input { display: none; }
        .modal-file-label { display: flex; align-items: center; justify-content: center; gap: 0.5rem; width: 100%; background: rgba(74, 124, 89, 0.2); border: 2px dashed rgba(74, 124, 89, 0.4); border-radius: 12px; padding: 2rem; color: var(--text-muted); cursor: pointer; transition: all 0.3s ease; margin-bottom: 1rem; text-align: center; }
        .modal-file-label:hover { border-color: var(--gold); color: var(--gold); }
        .modal-file-preview { width: 100%; max-height: 200px; object-fit: cover; border-radius: 12px; margin-bottom: 1rem; display: none; }
        .modal-buttons { display: flex; gap: 1rem; margin-top: 1rem; }
        .modal-btn { flex: 1; padding: 1rem; border-radius: 12px; font-size: 1rem; cursor: pointer; transition: all 0.3s ease; }
        .modal-btn.cancel { background: transparent; border: 1px solid rgba(255, 255, 255, 0.2); color: var(--text-muted); }
        .modal-btn.confirm { background: linear-gradient(135deg, var(--sage), var(--mint)); border: none; color: white; }
        .modal-btn:hover { transform: translateY(-2px); }

        /* ========== SETTINGS PANEL ========== */
        .settings-toggle {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--sage), var(--mint));
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 1500;
            display: none;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            transition: transform 0.3s ease;
        }
        .settings-toggle:hover { transform: scale(1.1); }
        .settings-toggle.visible { display: flex; }

        .settings-panel {
            position: fixed;
            top: 0;
            right: -450px;
            width: 450px;
            max-width: 100vw;
            height: 100vh;
            background: linear-gradient(180deg, #0d1f0d, #1a3a1a);
            z-index: 2000;
            transition: right 0.4s ease;
            overflow-y: auto;
            box-shadow: -5px 0 30px rgba(0,0,0,0.5);
        }
        .settings-panel.open { right: 0; }

        .settings-header {
            padding: 1.5rem;
            background: rgba(0,0,0,0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        .settings-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.5rem;
            color: var(--gold);
        }
        .settings-close {
            background: none;
            border: none;
            color: var(--cream);
            font-size: 1.8rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        .settings-content { padding: 1.5rem; }

        .settings-section {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .settings-section:last-child { border-bottom: none; }

        .settings-section-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.2rem;
            color: var(--mint);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .settings-field { margin-bottom: 1rem; }
        .settings-label {
            display: block;
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }
        .settings-input, .settings-textarea {
            width: 100%;
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 10px;
            padding: 0.8rem 1rem;
            color: var(--cream);
            font-size: 0.95rem;
            outline: none;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }
        .settings-input:focus, .settings-textarea:focus { border-color: var(--gold); }
        .settings-textarea { min-height: 80px; resize: vertical; }

        .settings-color-row {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        .settings-color-input {
            width: 50px;
            height: 40px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background: transparent;
        }
        .settings-color-input::-webkit-color-swatch-wrapper { padding: 0; }
        .settings-color-input::-webkit-color-swatch { border-radius: 8px; border: 2px solid rgba(255,255,255,0.2); }

        .phrase-item {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            align-items: center;
        }
        .phrase-item input { flex: 1; }
        .phrase-delete {
            background: rgba(200,80,80,0.3);
            border: 1px solid rgba(200,80,80,0.5);
            color: #ff9999;
            width: 36px;
            height: 36px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }
        .phrase-delete:hover { background: rgba(200,80,80,0.5); }

        .settings-add-btn {
            background: rgba(74, 124, 89, 0.3);
            border: 1px dashed rgba(74, 124, 89, 0.6);
            color: var(--mint);
            padding: 0.7rem 1rem;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.9rem;
            width: 100%;
            transition: all 0.3s ease;
            margin-top: 0.5rem;
        }
        .settings-add-btn:hover { background: rgba(74, 124, 89, 0.5); border-style: solid; }

        .settings-save-btn {
            width: 100%;
            background: linear-gradient(135deg, var(--sage), var(--mint));
            border: none;
            color: white;
            padding: 1rem;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            margin-top: 1rem;
            transition: all 0.3s ease;
        }
        .settings-save-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(127,178,133,0.3); }

        .settings-reset-btn {
            width: 100%;
            background: transparent;
            border: 1px solid rgba(255,255,255,0.2);
            color: var(--text-muted);
            padding: 0.8rem;
            border-radius: 12px;
            font-size: 0.9rem;
            cursor: pointer;
            margin-top: 0.5rem;
            transition: all 0.3s ease;
        }
        .settings-reset-btn:hover { border-color: var(--rose); color: var(--rose); }

        .settings-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .settings-overlay.open { opacity: 1; visibility: visible; }

        .settings-toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--sage);
            color: white;
            padding: 1rem 2rem;
            border-radius: 10px;
            font-size: 0.95rem;
            z-index: 3000;
            opacity: 0;
            transition: all 0.4s ease;
        }
        .settings-toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }

        /* Mobile Menu */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--gold);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            z-index: 1001;
        }

        .mobile-nav {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(13, 31, 13, 0.98);
            z-index: 999;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .mobile-nav.active {
            opacity: 1;
            visibility: visible;
        }

        .mobile-nav a {
            color: var(--cream);
            text-decoration: none;
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            transition: color 0.3s ease;
        }

        .mobile-nav a:hover { color: var(--gold); }

        .close-mobile-nav {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            color: var(--gold);
            font-size: 2rem;
            cursor: pointer;
        }


        /* Responsive */
        @media (max-width: 900px) {
            .player-container { grid-template-columns: 1fr; gap: 2rem; }
            .vinyl { width: 240px; height: 240px; }
            .vinyl-label { width: 80px; height: 80px; }
            .add-song-form { width: 100%; flex-direction: column; }
            .youtube-input { width: 100%; }
            .add-song-btn { width: 100%; justify-content: center; }
            .player-info { text-align: center; }
            .controls { justify-content: center; }
            .volume-control { justify-content: center; }
        }

        @media (max-width: 768px) {
            nav { padding: 1rem 1.5rem; }
            .nav-links { display: none; }
            .mobile-menu-btn { display: block; }
            .mobile-nav { display: flex; }

            .hero { padding: 1.5rem; }
            .hero-names { font-size: clamp(2.5rem, 12vw, 5rem); }
            .hero-prelude { font-size: 0.75rem; letter-spacing: 0.2em; }
            .hero-date { font-size: 1rem; }

            .counter-section { padding: 4rem 1rem; }
            .counter-grid { gap: 1rem; }
            .counter-item { min-width: 70px; padding: 1rem; }
            .counter-number { font-size: 2rem; }
            .counter-label { font-size: 0.65rem; }
            .counter-message { font-size: 1.1rem; }

            .music-section { padding: 4rem 1rem; }
            .music-header { margin-bottom: 2rem; }
            .section-title { font-size: clamp(2rem, 6vw, 3rem); margin-bottom: 1rem; }
            .music-quote { font-size: 1rem; }

            .vinyl { width: 200px; height: 200px; }
            .vinyl-label { width: 70px; height: 70px; }
            .visualizer { height: 50px; gap: 2px; padding: 0.5rem 1rem; }
            .viz-bar { width: 3px; }

            .song-title { font-size: 1.3rem; }
            .control-btn { width: 45px; height: 45px; font-size: 1rem; }
            .control-btn.play-btn { width: 55px; height: 55px; font-size: 1.2rem; }

            .playlist-section { margin-top: 2rem; }
            .playlist-header { flex-direction: column; align-items: stretch; }
            .playlist-item { padding: 0.75rem 1rem; }
            .playlist-item-thumb { width: 40px; height: 40px; margin-right: 0.75rem; }
            .playlist-item-title { font-size: 0.9rem; }
            .playlist-item-delete { opacity: 1; }

            .vision-section { padding: 4rem 1rem; }
            .vision-toolbar { gap: 0.5rem; flex-wrap: wrap; justify-content: center; }
            .vision-add-btn { padding: 0.75rem 1.25rem; font-size: 0.9rem; }
            .vision-category-btn { padding: 0.5rem 1rem; font-size: 0.75rem; }
            .vision-board {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            .vision-card {
                min-height: 280px;
            }
            .vision-card.size-small,
            .vision-card.size-medium,
            .vision-card.size-large {
                min-height: 280px;
            }
            .vision-card-icon {
                height: 120px;
                min-height: 120px;
                font-size: 3rem;
            }
            .vision-card-image {
                height: 180px;
            }
            .vision-card-content {
                padding: 1rem;
            }
            .vision-card-delete { opacity: 1; }
            .vision-card.polaroid {
                padding: 0.75rem 0.75rem 2rem 0.75rem;
                min-height: auto;
            }
            .vision-card.postit {
                transform: rotate(0deg);
                min-height: auto;
            }

            .modal { padding: 1.5rem; margin: 1rem; max-height: 85vh; }
            .modal-title { font-size: 1.5rem; }
            .modal-row { flex-direction: column; gap: 0; }
            .modal-file-label { padding: 1.5rem; }
            .modal-buttons { flex-direction: column; }

            footer { padding: 3rem 1rem; }
            .number-24 { bottom: 1rem; right: 1rem; font-size: 0.85rem; }

            .scroll-indicator { bottom: 2rem; }
            .scroll-line { height: 40px; }
        }

        @media (max-width: 400px) {
            .hero-names { font-size: clamp(2rem, 15vw, 4rem); }
            .counter-item { min-width: 65px; }
            .counter-number { font-size: 1.75rem; }
            .vinyl { width: 160px; height: 160px; }
            .vinyl-label { width: 55px; height: 55px; }
        }
    </style>
</head>
<body>
    <div class="bg-container">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
    </div>
    <div class="stars" id="stars"></div>
    <div class="floating-words" id="floating-words"></div>

    <nav>
        <div class="nav-logo">I & X</div>
        <ul class="nav-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#music">Music</a></li>
            <li><a href="#joyitas">Joyitas</a></li>
        </ul>
        <button class="mobile-menu-btn" id="mobile-menu-btn">‚ò∞</button>
    </nav>

    <!-- Mobile Navigation -->
    <div class="mobile-nav" id="mobile-nav">
        <button class="close-mobile-nav" id="close-mobile-nav">√ó</button>
        <a href="#home" class="mobile-nav-link">Home</a>
        <a href="#music" class="mobile-nav-link">Music</a>
        <a href="#joyitas" class="mobile-nav-link">Joyitas</a>
    </div>

    <!-- Hero -->
    <section class="hero" id="home">
        <div class="hero-prelude">A love story written in the stars</div>
        <div class="hero-content">
            <h1 class="hero-names">Iv√°n<span class="ampersand">&</span>Ximena</h1>
            <p class="hero-date">Since <span>October 11, 2025</span></p>
        </div>
        <div class="scroll-indicator">
            <span>Explore Our Universe</span>
            <div class="scroll-line"></div>
        </div>
    </section>

    <!-- Counter -->
    <section class="counter-section" id="counter">
        <p class="section-label">Every Moment Counts</p>
        <h2 class="section-title">Time Together</h2>
        <div class="counter-grid">
            <div class="counter-item"><div class="counter-number" id="days">0</div><div class="counter-label">Days</div></div>
            <div class="counter-item"><div class="counter-number" id="hours">0</div><div class="counter-label">Hours</div></div>
            <div class="counter-item"><div class="counter-number" id="minutes">0</div><div class="counter-label">Minutes</div></div>
            <div class="counter-item"><div class="counter-number" id="seconds">0</div><div class="counter-label">Seconds</div></div>
        </div>
        <p class="counter-message">"Every second with you is a universe of love"</p>
    </section>

    <!-- Music -->
    <section class="music-section" id="music">
        <div class="music-header">
            <p class="section-label">Our Soundtrack</p>
            <h2 class="section-title">Songs of Our Love</h2>
            <p class="music-quote">"I love when she sends me songs... each one is a piece of her heart"</p>
        </div>

        <div class="vinyl-player">
            <div class="vinyl-clickable" id="vinyl-clickable">
                <div class="vinyl" id="vinyl">
                    <div class="vinyl-grooves"></div>
                    <div class="vinyl-shine"></div>
                    <div class="vinyl-label">
                        <span class="vinyl-label-icon">üíö</span>
                        <span class="vinyl-label-text">I&X</span>
                    </div>
                </div>
            </div>

            <div class="player-controls">
                <button class="control-btn" id="prev-btn">‚èÆ</button>
                <button class="control-btn play-btn" id="play-btn">‚ñ∂</button>
                <button class="control-btn" id="next-btn">‚è≠</button>
            </div>

            <div class="now-playing-info" id="now-playing-info">
                <p class="current-song-label">Reproduciendo:</p>
                <p class="current-song-name" id="current-song-name">Haz clic en el vinilo para empezar</p>
            </div>

            <audio id="audio-player"></audio>
        </div>
    </section>

    <!-- Vision Board (Hidden for now) -->
    <section class="vision-section" id="vision" style="display: none;">
        <div class="vision-header">
            <p class="section-label">Building Our Future</p>
            <h2 class="section-title">Vision Board</h2>
            <p class="vision-subtitle">Our dreams, goals & inspirations ‚ú®</p>
        </div>

        <div class="vision-toolbar">
            <button class="vision-add-btn" id="add-vision-btn">
                <span>+</span> Add to Board
            </button>
            <button class="vision-category-btn active" data-category="all">All</button>
            <button class="vision-category-btn" data-category="travel">‚úàÔ∏è Travel</button>
            <button class="vision-category-btn" data-category="growth">üå± Growth</button>
            <button class="vision-category-btn" data-category="love">üíö Love</button>
            <button class="vision-category-btn" data-category="goals">üéØ Goals</button>
        </div>

        <div class="vision-board" id="vision-board"></div>
    </section>

    <!-- Joyitas Section -->
    <section class="joyitas-section" id="joyitas">
        <div class="joyitas-header">
            <p class="section-label">Lessons of Love</p>
            <h2 class="section-title">Joyitas</h2>
            <p class="joyitas-subtitle">Little treasures I've learned with you ‚ú®</p>
        </div>

        <div class="joyitas-container" id="joyitas-container">
            <!-- Cards will be generated by JavaScript -->
        </div>

        <p class="joyitas-hint"><span>üëÜ</span> Tap to reveal the next one</p>
        <p class="joyitas-counter"><span id="joyita-current">1</span> / <span id="joyita-total">0</span></p>
    </section>

    <footer>
        <div class="footer-hearts">üíö</div>
        <p class="footer-text">Made with infinite love for <span>Ximena</span></p>
    </footer>

    <div class="number-24">‚ú¶ 24 ‚ú¶</div>


    <!-- Vision Modal -->
    <div class="modal-overlay" id="vision-modal">
        <div class="modal">
            <h3 class="modal-title">‚ú® Add to Vision Board</h3>

            <label class="modal-label">Image</label>
            <label class="modal-file-label" id="vision-file-label">
                üì∑ Click to upload an image
            </label>
            <input type="file" class="modal-file-input" id="vision-file" accept="image/*">
            <img class="modal-file-preview" id="vision-preview">

            <label class="modal-label">Title</label>
            <input type="text" class="modal-input" id="vision-title" placeholder="e.g., Visit Paris together">

            <label class="modal-label">Description (optional)</label>
            <textarea class="modal-textarea" id="vision-description" placeholder="Why is this important to us?"></textarea>

            <div class="modal-row">
                <div>
                    <label class="modal-label">Category</label>
                    <select class="modal-select" id="vision-category">
                        <option value="love">üíö Love</option>
                        <option value="travel">‚úàÔ∏è Travel</option>
                        <option value="growth">üå± Growth</option>
                        <option value="goals">üéØ Goals</option>
                    </select>
                </div>
                <div>
                    <label class="modal-label">Style</label>
                    <select class="modal-select" id="vision-style">
                        <option value="default">üñºÔ∏è Default</option>
                        <option value="polaroid">üì∏ Polaroid</option>
                        <option value="postit">üìù Post-it</option>
                    </select>
                </div>
            </div>

            <div class="modal-row">
                <div>
                    <label class="modal-label">Added by</label>
                    <select class="modal-select" id="vision-author">
                        <option value="Iv√°n">Iv√°n</option>
                        <option value="Ximena">Ximena</option>
                        <option value="Both">Both üíö</option>
                    </select>
                </div>
                <div>
                    <label class="modal-label">Size</label>
                    <select class="modal-select" id="vision-size">
                        <option value="medium">Medium</option>
                        <option value="small">Small</option>
                        <option value="large">Large</option>
                    </select>
                </div>
            </div>

            <div class="modal-buttons">
                <button class="modal-btn cancel" id="cancel-vision">Cancel</button>
                <button class="modal-btn confirm" id="confirm-vision">Add to Board</button>
            </div>
        </div>
    </div>

    <!-- Settings Toggle Button -->
    <button class="settings-toggle" id="settings-toggle">‚öô</button>

    <!-- Settings Overlay -->
    <div class="settings-overlay" id="settings-overlay"></div>

    <!-- Settings Panel -->
    <div class="settings-panel" id="settings-panel">
        <div class="settings-header">
            <h2 class="settings-title">‚öô Settings</h2>
            <button class="settings-close" id="settings-close">√ó</button>
        </div>
        <div class="settings-content">
            <!-- Hero Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">üíö Hero Section</h3>
                <div class="settings-field">
                    <label class="settings-label">Tagline (above names)</label>
                    <input type="text" class="settings-input" id="set-tagline" value="A love story written in the stars">
                </div>
                <div class="settings-field">
                    <label class="settings-label">Name 1</label>
                    <input type="text" class="settings-input" id="set-name1" value="Iv√°n">
                </div>
                <div class="settings-field">
                    <label class="settings-label">Name 2</label>
                    <input type="text" class="settings-input" id="set-name2" value="Ximena">
                </div>
                <div class="settings-field">
                    <label class="settings-label">Start Date</label>
                    <input type="date" class="settings-input" id="set-date" value="2025-10-11">
                </div>
            </div>

            <!-- Floating Phrases -->
            <div class="settings-section">
                <h3 class="settings-section-title">‚ú® Floating Phrases</h3>
                <div id="phrases-list"></div>
                <button class="settings-add-btn" id="add-phrase">+ Add Phrase</button>
            </div>

            <!-- Joyitas -->
            <div class="settings-section">
                <h3 class="settings-section-title">üíé Joyitas</h3>
                <p class="settings-label" style="margin-bottom: 1rem;">Things you've learned together</p>
                <div id="joyitas-list"></div>
                <button class="settings-add-btn" id="add-joyita">+ Add Joyita</button>
            </div>

            <!-- Music Section -->
            <div class="settings-section">
                <h3 class="settings-section-title">üéµ Music Section</h3>
                <div class="settings-field">
                    <label class="settings-label">Section Quote</label>
                    <textarea class="settings-textarea" id="set-music-quote">I love when she sends me songs... each one is a piece of her heart</textarea>
                </div>
            </div>

            <!-- Footer -->
            <div class="settings-section">
                <h3 class="settings-section-title">üíå Footer</h3>
                <div class="settings-field">
                    <label class="settings-label">Footer Text (name after "for")</label>
                    <input type="text" class="settings-input" id="set-footer-name" value="Ximena">
                </div>
                <div class="settings-field">
                    <label class="settings-label">Special Number</label>
                    <input type="text" class="settings-input" id="set-special-number" value="24">
                </div>
            </div>

            <!-- Colors -->
            <div class="settings-section">
                <h3 class="settings-section-title">üé® Colors</h3>
                <div class="settings-field">
                    <label class="settings-label">Primary Green (Sage)</label>
                    <div class="settings-color-row">
                        <input type="color" class="settings-color-input" id="set-color-sage" value="#4a7c59">
                        <span class="settings-label" style="margin:0">Used for buttons, accents</span>
                    </div>
                </div>
                <div class="settings-field">
                    <label class="settings-label">Gold Accent</label>
                    <div class="settings-color-row">
                        <input type="color" class="settings-color-input" id="set-color-gold" value="#d4a574">
                        <span class="settings-label" style="margin:0">Used for highlights, text</span>
                    </div>
                </div>
            </div>

            <!-- Save Buttons -->
            <button class="settings-save-btn" id="save-settings">üíæ Save Changes</button>
            <button class="settings-reset-btn" id="reset-settings">Reset to Defaults</button>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="settings-toast" id="settings-toast">Settings saved!</div>

    <script>
        // ========== INITIALIZATION ==========
        document.addEventListener('DOMContentLoaded', () => {
            createStars();
            createFloatingWords();
            initializeCounter();
            initializeVisionBoard();
        });

        // ========== STARS ==========
        function createStars() {
            const container = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                container.appendChild(star);
            }
        }

        // ========== FLOATING WORDS ==========
        function createFloatingWords() {
            const container = document.getElementById('floating-words');
            // Use phrases from settings if available
            const phrases = (typeof siteSettings !== 'undefined' && siteSettings.phrases)
                ? siteSettings.phrases
                : ['Sipis', ':)', 'Que se les multiplique 7 veces 7', 'Sisisi perfecto', 'Ah okok', 'tlj', 'avrd', 'uffff', 'ash', 'keeeee', 'okis'];

            // Function to animate a single word
            function animateWord(word) {
                // Random position
                word.style.left = (5 + Math.random() * 85) + '%';
                word.style.top = (5 + Math.random() * 85) + '%';
                word.style.fontSize = (1.6 + Math.random() * 1) + 'rem';

                // Slower, more delicate animation - 5-9 seconds
                const duration = 5000 + Math.random() * 4000;
                word.style.animation = `fadeInOut ${duration}ms ease-in-out`;

                // When animation ends, reposition and restart
                word.onanimationend = () => {
                    word.style.animation = 'none';
                    // Gentle pause before next appearance
                    setTimeout(() => {
                        animateWord(word);
                    }, 1000 + Math.random() * 3000);
                };
            }

            // Create words and start them at staggered times
            for (let i = 0; i < 12; i++) {
                const word = document.createElement('div');
                word.className = 'floating-word style-' + ((i % 4) + 1);
                word.textContent = phrases[i % phrases.length];
                container.appendChild(word);

                // Gentle stagger - first appears immediately
                setTimeout(() => {
                    animateWord(word);
                }, i * 400);
            }
        }

        // ========== COUNTER ==========
        function initializeCounter() {
            function updateCounter() {
                const dateStr = (typeof siteSettings !== 'undefined' && siteSettings.startDate)
                    ? siteSettings.startDate
                    : '2025-10-11';
                const startDate = new Date(dateStr + 'T00:00:00');
                const now = new Date();
                const diff = now - startDate;
                document.getElementById('days').textContent = Math.floor(diff / (1000 * 60 * 60 * 24));
                document.getElementById('hours').textContent = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                document.getElementById('minutes').textContent = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                document.getElementById('seconds').textContent = Math.floor((diff % (1000 * 60)) / 1000);
            }
            updateCounter();
            setInterval(updateCounter, 1000);
        }

        // ========== MEMORY MUSIC PLAYER ==========
        const musicFiles = [
            { file: 'Aaron_Hibell_-_destroyer_of_worlds_official_audio.mp3', name: 'Aaron Hibell - Destroyer of Worlds' },
            { file: 'BAD_BUNNY_-_BAILE_INoLVIDABLE_Video_Oficial_DeB_TiRAR_M_S_FOToS.mp3', name: 'Bad Bunny - Baile Inolvidable' },
            { file: 'Blitzkrieg_Bop.mp3', name: 'Ramones - Blitzkrieg Bop' },
            { file: 'Chris_Stapleton_-_Tennessee_Whiskey_Official_Audio.mp3', name: 'Chris Stapleton - Tennessee Whiskey' },
            { file: 'Chris_Stapleton_-_What_Am_I_Gonna_Do_Official_Audio.mp3', name: 'Chris Stapleton - What Am I Gonna Do' },
            { file: 'Durand_Jones_The_Indications_-_Flower_Moon_Official_Video_-_DurandJonesVEVO.mp3', name: 'Durand Jones - Flower Moon' },
            { file: 'Durand_Jones_The_Indications_-_Really_Wanna_Be_With_You.mp3', name: 'Durand Jones - Really Wanna Be With You' },
            { file: 'Enur_-_Calabria_2007_ft._Natasja_Radio_Edit_Intro_Edit_Part_I.mp3', name: 'Enur - Calabria 2007' },
            { file: 'Esau_Ort_z_Luis_R_Conriquez_Oscar_Maydon_Alem_n_feat._Victor_Mendivil_-_Triple_Lavada_Remix.mp3', name: 'Triple Lavada (Remix)' },
            { file: 'Gepe_-_Fruta_y_T_video_oficial.mp3', name: 'Gepe - Fruta y T√©' },
            { file: 'Jerry_Di_-_Mi_Cuarto.mp3', name: 'Jerry Di - Mi Cuarto' },
            { file: 'Juli_n_lvarez_y_su_Norte_o_Banda_-_Regalo_de_Dios_Video_Lyric.mp3', name: 'Juli√≥n √Ålvarez - Regalo de Dios' },
            { file: 'Khalid_-_Location_Official_Video.mp3', name: 'Khalid - Location' },
            { file: 'Lucky.mp3', name: 'Lucky' },
            { file: 'Mac_Miller_-_Self_Care.mp3', name: 'Mac Miller - Self Care' },
            { file: 'McFly_-_I_ll_Be_Ok.mp3', name: 'McFly - I\'ll Be Ok' },
            { file: 'Migos_-_Narcos_Audio.mp3', name: 'Migos - Narcos' },
            { file: 'ROSAL_A_-_DI_MI_NOMBRE_Cap.8_xtasis.mp3', name: 'Rosal√≠a - Di Mi Nombre' },
            { file: 'R_F_S_DU_SOL_Innerbloom_Official_Video.mp3', name: 'R√úF√úS DU SOL - Innerbloom' },
            { file: 'Ramones_-_Pet_Semetary_Single_LP_Version_-_Brain_Drain.mp3', name: 'Ramones - Pet Semetary' },
            { file: 'Redbone.mp3', name: 'Childish Gambino - Redbone' },
            { file: 'Residente_-_Ren_Official_Video.mp3', name: 'Residente - Ren√©' },
            { file: 'Roberto_Carlos_-_Cama_y_Mesa_Lyric_Video.mp3', name: 'Roberto Carlos - Cama y Mesa' },
            { file: 'Rusowsky_antamarta_-_LIIT_Video_Sub._Espa_ol.mp3', name: 'Rusowsky - LIIT' },
            { file: 'Sea_Horse.mp3', name: 'Sea Horse' },
            { file: 'TRAP_DEL_TERRAPLANISMO.mp3', name: 'Trap del Terraplanismo' },
            { file: 'The_Beatles_-_Don_t_Let_Me_Down.mp3', name: 'The Beatles - Don\'t Let Me Down' },
            { file: 'The_Cure_-_Lovesong.mp3', name: 'The Cure - Lovesong' },
            { file: 'The_Last_Goodnight_-_Pictures_Of_You.mp3', name: 'The Last Goodnight - Pictures Of You' },
            { file: 'The_Warning_-_DISCIPLE.mp3', name: 'The Warning - Disciple' },
            { file: 'The_Warning_-_DUST_TO_DUST_Live_at_Teatro_Metropolitan_CDMX_08292022.mp3', name: 'The Warning - Dust to Dust' },
            { file: 'V_ctor_Mendivil_-_Jacobo_Grinberg_Video_Oficial.mp3', name: 'V√≠ctor Mendivil - Jacobo Grinberg' },
            { file: 'Wicked_Game.mp3', name: 'Chris Isaak - Wicked Game' },
            { file: 'Zo_-_Labios_Rotos_MTV_Unplugged.mp3', name: 'Zo√© - Labios Rotos' }
        ];

        let audioPlayer;
        let currentSongIndex = -1;
        let isPlaying = false;
        let shuffledPlaylist = [];

        function initMusicPlayer() {
            audioPlayer = document.getElementById('audio-player');
            const vinyl = document.getElementById('vinyl');
            const vinylClickable = document.getElementById('vinyl-clickable');
            const playBtn = document.getElementById('play-btn');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const nowPlayingInfo = document.getElementById('now-playing-info');

            // Shuffle playlist on init
            shufflePlaylist();

            // Vinyl click - start/stop music
            vinylClickable.addEventListener('click', togglePlay);

            // Control buttons
            playBtn.addEventListener('click', togglePlay);
            prevBtn.addEventListener('click', playPrevious);
            nextBtn.addEventListener('click', playNext);

            audioPlayer.addEventListener('ended', () => {
                playNext(); // Auto-play next song when current ends
            });

            audioPlayer.addEventListener('play', () => {
                vinyl.classList.add('playing');
                playBtn.textContent = '‚è∏';
                nowPlayingInfo.classList.add('visible');
                isPlaying = true;
            });

            audioPlayer.addEventListener('pause', () => {
                vinyl.classList.remove('playing');
                playBtn.textContent = '‚ñ∂';
                isPlaying = false;
            });
        }

        function shufflePlaylist() {
            // Create shuffled array of indices
            shuffledPlaylist = musicFiles.map((_, i) => i);
            for (let i = shuffledPlaylist.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledPlaylist[i], shuffledPlaylist[j]] = [shuffledPlaylist[j], shuffledPlaylist[i]];
            }
        }

        function togglePlay() {
            if (currentSongIndex === -1) {
                // First play - start with first shuffled song
                currentSongIndex = 0;
                playSong(shuffledPlaylist[currentSongIndex]);
            } else if (isPlaying) {
                audioPlayer.pause();
            } else {
                audioPlayer.play();
            }
        }

        function playSong(index) {
            const song = musicFiles[index];
            audioPlayer.src = 'music/' + song.file;
            audioPlayer.play();
            document.getElementById('current-song-name').textContent = song.name;
        }

        function playNext() {
            if (currentSongIndex === -1) {
                currentSongIndex = 0;
            } else {
                currentSongIndex = (currentSongIndex + 1) % shuffledPlaylist.length;
                // Reshuffle when we complete the playlist
                if (currentSongIndex === 0) {
                    shufflePlaylist();
                }
            }
            playSong(shuffledPlaylist[currentSongIndex]);
        }

        function playPrevious() {
            if (currentSongIndex === -1) {
                currentSongIndex = 0;
            } else {
                currentSongIndex = (currentSongIndex - 1 + shuffledPlaylist.length) % shuffledPlaylist.length;
            }
            playSong(shuffledPlaylist[currentSongIndex]);
        }

        // Initialize on DOM load
        document.addEventListener('DOMContentLoaded', initMusicPlayer);

        // ========== VISION BOARD ==========
        let visions = [];
        let currentCategory = 'all';

        const defaultVisions = [
            { id: 1, title: 'Travel the World Together', text: 'Exploring new places, cultures, and creating memories across the globe', category: 'travel', author: 'Both', style: 'default', size: 'large', icon: '‚úàÔ∏è' },
            { id: 2, title: 'Grow Together', text: 'Becoming the best versions of ourselves', category: 'growth', author: 'Both', style: 'postit', size: 'medium', icon: 'üå±' },
            { id: 3, title: 'Build Our Home', text: 'A cozy space filled with love and music', category: 'goals', author: 'Iv√°n', style: 'default', size: 'medium', icon: 'üè°' },
            { id: 4, title: 'Spiritual Journey', text: 'Walking the path of spirituality together, finding meaning in the universe', category: 'growth', author: 'Ximena', style: 'default', size: 'medium', icon: '‚ú®' },
            { id: 5, title: 'Financial Freedom', text: 'Building stability and abundance for our future', category: 'goals', author: 'Both', style: 'postit', size: 'small', icon: 'üí∞' },
            { id: 6, title: 'Music & Dance', text: 'Sharing songs, dancing in the kitchen, creating our soundtrack', category: 'love', author: 'Iv√°n', style: 'default', size: 'medium', icon: 'üéµ' },
        ];

        function initializeVisionBoard() {
            const saved = localStorage.getItem('visionBoard');
            visions = saved ? JSON.parse(saved) : defaultVisions;
            renderVisionBoard();

            // Category filters
            document.querySelectorAll('.vision-category-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.vision-category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentCategory = btn.dataset.category;
                    renderVisionBoard();
                });
            });

            // Add vision modal
            document.getElementById('add-vision-btn').addEventListener('click', () => {
                document.getElementById('vision-modal').classList.add('active');
            });

            document.getElementById('cancel-vision').addEventListener('click', () => {
                document.getElementById('vision-modal').classList.remove('active');
                resetVisionForm();
            });

            document.getElementById('confirm-vision').addEventListener('click', addVision);

            document.getElementById('vision-modal').addEventListener('click', (e) => {
                if (e.target.id === 'vision-modal') {
                    document.getElementById('vision-modal').classList.remove('active');
                    resetVisionForm();
                }
            });

            // File upload preview
            document.getElementById('vision-file').addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const preview = document.getElementById('vision-preview');
                        preview.src = e.target.result;
                        preview.style.display = 'block';
                        document.getElementById('vision-file-label').textContent = '‚úÖ Image selected';
                    };
                    reader.readAsDataURL(file);
                }
            });
        }

        function renderVisionBoard() {
            const container = document.getElementById('vision-board');
            container.innerHTML = '';

            const filtered = currentCategory === 'all'
                ? visions
                : visions.filter(v => v.category === currentCategory);

            filtered.forEach(vision => {
                const card = document.createElement('div');
                card.className = `vision-card ${vision.style} size-${vision.size}`;

                if (vision.image) {
                    card.innerHTML = `
                        <span class="vision-card-category">${getCategoryLabel(vision.category)}</span>
                        <button class="vision-card-delete" onclick="deleteVision(${vision.id})">√ó</button>
                        <img src="${vision.image}" class="vision-card-image" alt="">
                        <div class="vision-card-content">
                            <h3 class="vision-card-title">${vision.title}</h3>
                            <p class="vision-card-text">${vision.text || ''}</p>
                            <span class="vision-card-author">‚Äî ${vision.author}</span>
                        </div>
                    `;
                } else {
                    card.innerHTML = `
                        <span class="vision-card-category">${getCategoryLabel(vision.category)}</span>
                        <button class="vision-card-delete" onclick="deleteVision(${vision.id})">√ó</button>
                        <div class="vision-card-icon">${vision.icon || '‚ú®'}</div>
                        <div class="vision-card-content">
                            <h3 class="vision-card-title">${vision.title}</h3>
                            <p class="vision-card-text">${vision.text || ''}</p>
                            <span class="vision-card-author">‚Äî ${vision.author}</span>
                        </div>
                    `;
                }
                container.appendChild(card);
            });
        }

        function getCategoryLabel(cat) {
            const labels = { travel: '‚úàÔ∏è Travel', growth: 'üå± Growth', love: 'üíö Love', goals: 'üéØ Goals' };
            return labels[cat] || cat;
        }

        function addVision() {
            const title = document.getElementById('vision-title').value.trim();
            if (!title) {
                alert('Please enter a title');
                return;
            }

            const preview = document.getElementById('vision-preview');
            const vision = {
                id: Date.now(),
                title: title,
                text: document.getElementById('vision-description').value.trim(),
                category: document.getElementById('vision-category').value,
                author: document.getElementById('vision-author').value,
                style: document.getElementById('vision-style').value,
                size: document.getElementById('vision-size').value,
                image: preview.style.display !== 'none' ? preview.src : null,
                icon: getIconForCategory(document.getElementById('vision-category').value)
            };

            visions.unshift(vision);

            // Limit stored images to prevent localStorage overflow
            const visionsToSave = visions.map(v => ({
                ...v,
                image: v.image && v.image.length > 50000 ? null : v.image // Skip large images
            }));

            try {
                localStorage.setItem('visionBoard', JSON.stringify(visionsToSave));
            } catch (e) {
                // If storage fails, save without images
                localStorage.setItem('visionBoard', JSON.stringify(visions.map(v => ({...v, image: null}))));
            }

            renderVisionBoard();
            document.getElementById('vision-modal').classList.remove('active');
            resetVisionForm();
        }

        function getIconForCategory(cat) {
            const icons = { travel: '‚úàÔ∏è', growth: 'üå±', love: 'üíö', goals: 'üéØ' };
            return icons[cat] || '‚ú®';
        }

        function deleteVision(id) {
            visions = visions.filter(v => v.id !== id);
            localStorage.setItem('visionBoard', JSON.stringify(visions));
            renderVisionBoard();
        }

        function resetVisionForm() {
            document.getElementById('vision-title').value = '';
            document.getElementById('vision-description').value = '';
            document.getElementById('vision-file').value = '';
            document.getElementById('vision-preview').style.display = 'none';
            document.getElementById('vision-file-label').innerHTML = 'üì∑ Click to upload an image';
        }

        // ========== JOYITAS ==========
        let joyitasData = [];
        let currentJoyitaIndex = 0;

        const defaultJoyitas = [
            { text: "La paciencia es la base del amor verdadero", icon: "üíö" },
            { text: "Escuchar es m√°s importante que hablar", icon: "üëÇ" },
            { text: "Los peque√±os detalles son los que m√°s importan", icon: "‚ú®" },
            { text: "El amor crece cuando lo cuidas cada d√≠a", icon: "üå±" },
            { text: "La comunicaci√≥n honesta lo es todo", icon: "üí¨" },
            { text: "Re√≠r juntos es la mejor medicina", icon: "üòÑ" },
            { text: "Apoyarse mutuamente en los sue√±os", icon: "üåü" },
            { text: "El respeto es el fundamento", icon: "üôè" }
        ];

        function initializeJoyitas() {
            const saved = localStorage.getItem('joyitas');
            joyitasData = saved ? JSON.parse(saved) : defaultJoyitas;
            renderJoyitas();

            document.getElementById('joyitas-container').addEventListener('click', nextJoyita);
        }

        function renderJoyitas() {
            const container = document.getElementById('joyitas-container');
            container.innerHTML = '';

            if (joyitasData.length === 0) {
                container.innerHTML = '<p style="color: var(--text-muted);">No joyitas yet. Add some in settings!</p>';
                return;
            }

            // Create cards in reverse order so first card is on top
            joyitasData.slice().reverse().forEach((joyita, i) => {
                const actualIndex = joyitasData.length - 1 - i;
                const card = document.createElement('div');
                card.className = `joyita-card color-${actualIndex % 5}`;
                card.dataset.index = actualIndex;

                // Stack effect - slightly offset each card
                const offset = i * 3;
                card.style.transform = `translateY(${offset}px) rotate(${(i % 2 === 0 ? -1 : 1) * (i * 0.5)}deg)`;
                card.style.zIndex = joyitasData.length - i;

                card.innerHTML = `
                    <span class="joyita-number">#${actualIndex + 1}</span>
                    <span class="joyita-icon">${joyita.icon || 'üíö'}</span>
                    <p class="joyita-text">${joyita.text}</p>
                `;

                container.appendChild(card);
            });

            updateJoyitaCounter();
        }

        function nextJoyita() {
            const container = document.getElementById('joyitas-container');
            const cards = container.querySelectorAll('.joyita-card');

            if (cards.length === 0) return;

            // Get the top card (last in DOM, highest z-index)
            const topCard = cards[cards.length - 1];

            // Animate it flying away
            topCard.classList.add('flying');

            // After animation, move it to the back of the stack
            setTimeout(() => {
                topCard.classList.remove('flying');
                container.insertBefore(topCard, container.firstChild);

                // Re-stack all cards
                const allCards = container.querySelectorAll('.joyita-card');
                allCards.forEach((card, i) => {
                    const offset = i * 3;
                    card.style.transform = `translateY(${offset}px) rotate(${(i % 2 === 0 ? -1 : 1) * (i * 0.5)}deg)`;
                    card.style.zIndex = i + 1;
                });

                // Update counter
                currentJoyitaIndex = (currentJoyitaIndex + 1) % joyitasData.length;
                updateJoyitaCounter();
            }, 500);
        }

        function updateJoyitaCounter() {
            document.getElementById('joyita-current').textContent = currentJoyitaIndex + 1;
            document.getElementById('joyita-total').textContent = joyitasData.length;
        }

        // Initialize joyitas on DOM load
        document.addEventListener('DOMContentLoaded', () => {
            initializeJoyitas();
        });

        // ========== PARALLAX ==========
        document.addEventListener('mousemove', (e) => {
            const moveX = (e.clientX - window.innerWidth / 2) * 0.02;
            const moveY = (e.clientY - window.innerHeight / 2) * 0.02;
            document.querySelectorAll('.gradient-orb').forEach((orb, index) => {
                const factor = (index + 1) * 0.5;
                orb.style.transform = `translate(${moveX * factor}px, ${moveY * factor}px)`;
            });
        });

        // ========== MOBILE MENU ==========
        document.getElementById('mobile-menu-btn').addEventListener('click', () => {
            document.getElementById('mobile-nav').classList.add('active');
        });

        document.getElementById('close-mobile-nav').addEventListener('click', () => {
            document.getElementById('mobile-nav').classList.remove('active');
        });

        document.querySelectorAll('.mobile-nav-link').forEach(link => {
            link.addEventListener('click', () => {
                document.getElementById('mobile-nav').classList.remove('active');
            });
        });

        // ========== SETTINGS PANEL ==========
        const defaultSettings = {
            tagline: 'A love story written in the stars',
            name1: 'Iv√°n',
            name2: 'Ximena',
            startDate: '2025-10-11',
            phrases: ['Sipis', ':)', 'Que se les multiplique 7 veces 7', 'Sisisi perfecto', 'Ah okok', 'tlj', 'avrd', 'uffff', 'ash', 'keeeee', 'okis'],
            musicQuote: 'I love when she sends me songs... each one is a piece of her heart',
            footerName: 'Ximena',
            specialNumber: '24',
            colorSage: '#4a7c59',
            colorGold: '#d4a574'
        };

        let siteSettings = { ...defaultSettings };

        // Check if edit mode is enabled via URL
        function checkEditMode() {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('edit')) {
                document.getElementById('settings-toggle').classList.add('visible');
            }
        }

        // Load settings from localStorage
        function loadSettings() {
            const saved = localStorage.getItem('siteSettings');
            if (saved) {
                siteSettings = { ...defaultSettings, ...JSON.parse(saved) };
            }
            applySettings();
            populateSettingsPanel();
        }

        // Apply settings to the page
        function applySettings() {
            // Hero
            document.querySelector('.hero-prelude').textContent = siteSettings.tagline;
            document.querySelector('.hero-names').innerHTML = `${siteSettings.name1}<span class="ampersand">&</span>${siteSettings.name2}`;

            const dateObj = new Date(siteSettings.startDate + 'T00:00:00');
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            document.querySelector('.hero-date').innerHTML = `Since <span>${dateObj.toLocaleDateString('en-US', options)}</span>`;

            // Music quote
            document.querySelector('.music-quote').textContent = `"${siteSettings.musicQuote}"`;

            // Footer
            document.querySelector('.footer-text span').textContent = siteSettings.footerName;
            document.querySelector('.number-24').textContent = `‚ú¶ ${siteSettings.specialNumber} ‚ú¶`;

            // Colors
            document.documentElement.style.setProperty('--sage', siteSettings.colorSage);
            document.documentElement.style.setProperty('--gold', siteSettings.colorGold);

            // Update counter with new date
            window.counterStartDate = siteSettings.startDate;
        }

        // Populate the settings panel with current values
        function populateSettingsPanel() {
            document.getElementById('set-tagline').value = siteSettings.tagline;
            document.getElementById('set-name1').value = siteSettings.name1;
            document.getElementById('set-name2').value = siteSettings.name2;
            document.getElementById('set-date').value = siteSettings.startDate;
            document.getElementById('set-music-quote').value = siteSettings.musicQuote;
            document.getElementById('set-footer-name').value = siteSettings.footerName;
            document.getElementById('set-special-number').value = siteSettings.specialNumber;
            document.getElementById('set-color-sage').value = siteSettings.colorSage;
            document.getElementById('set-color-gold').value = siteSettings.colorGold;

            renderPhrasesList();
            renderJoyitasList();
        }

        // Render the phrases list
        function renderPhrasesList() {
            const container = document.getElementById('phrases-list');
            container.innerHTML = '';
            siteSettings.phrases.forEach((phrase, index) => {
                const item = document.createElement('div');
                item.className = 'phrase-item';
                item.innerHTML = `
                    <input type="text" class="settings-input phrase-input" value="${phrase}" data-index="${index}">
                    <button class="phrase-delete" data-index="${index}">√ó</button>
                `;
                container.appendChild(item);
            });

            // Add event listeners
            container.querySelectorAll('.phrase-input').forEach(input => {
                input.addEventListener('change', (e) => {
                    siteSettings.phrases[e.target.dataset.index] = e.target.value;
                });
            });

            container.querySelectorAll('.phrase-delete').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    siteSettings.phrases.splice(e.target.dataset.index, 1);
                    renderPhrasesList();
                });
            });
        }

        // Render the joyitas list in settings
        function renderJoyitasList() {
            const container = document.getElementById('joyitas-list');
            container.innerHTML = '';

            const savedJoyitas = JSON.parse(localStorage.getItem('joyitas') || 'null') || defaultJoyitas;

            savedJoyitas.forEach((joyita, index) => {
                const item = document.createElement('div');
                item.className = 'phrase-item';
                item.style.marginBottom = '0.75rem';
                item.innerHTML = `
                    <input type="text" class="settings-input joyita-input" value="${joyita.text}" data-index="${index}" style="flex: 1;">
                    <input type="text" class="settings-input joyita-icon-input" value="${joyita.icon || 'üíö'}" data-index="${index}" style="width: 50px; text-align: center;">
                    <button class="phrase-delete joyita-delete" data-index="${index}">√ó</button>
                `;
                container.appendChild(item);
            });

            // Add event listeners
            container.querySelectorAll('.joyita-input').forEach(input => {
                input.addEventListener('change', (e) => {
                    const joyitas = JSON.parse(localStorage.getItem('joyitas') || 'null') || defaultJoyitas;
                    joyitas[e.target.dataset.index].text = e.target.value;
                    localStorage.setItem('joyitas', JSON.stringify(joyitas));
                });
            });

            container.querySelectorAll('.joyita-icon-input').forEach(input => {
                input.addEventListener('change', (e) => {
                    const joyitas = JSON.parse(localStorage.getItem('joyitas') || 'null') || defaultJoyitas;
                    joyitas[e.target.dataset.index].icon = e.target.value;
                    localStorage.setItem('joyitas', JSON.stringify(joyitas));
                });
            });

            container.querySelectorAll('.joyita-delete').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const joyitas = JSON.parse(localStorage.getItem('joyitas') || 'null') || defaultJoyitas;
                    joyitas.splice(e.target.dataset.index, 1);
                    localStorage.setItem('joyitas', JSON.stringify(joyitas));
                    renderJoyitasList();
                });
            });
        }

        // Open/close settings panel
        function openSettings() {
            document.getElementById('settings-panel').classList.add('open');
            document.getElementById('settings-overlay').classList.add('open');
        }

        function closeSettings() {
            document.getElementById('settings-panel').classList.remove('open');
            document.getElementById('settings-overlay').classList.remove('open');
        }

        // Save settings
        function saveSettings() {
            siteSettings.tagline = document.getElementById('set-tagline').value;
            siteSettings.name1 = document.getElementById('set-name1').value;
            siteSettings.name2 = document.getElementById('set-name2').value;
            siteSettings.startDate = document.getElementById('set-date').value;
            siteSettings.musicQuote = document.getElementById('set-music-quote').value;
            siteSettings.footerName = document.getElementById('set-footer-name').value;
            siteSettings.specialNumber = document.getElementById('set-special-number').value;
            siteSettings.colorSage = document.getElementById('set-color-sage').value;
            siteSettings.colorGold = document.getElementById('set-color-gold').value;

            localStorage.setItem('siteSettings', JSON.stringify(siteSettings));
            applySettings();

            // Recreate floating words with new phrases
            const floatingContainer = document.getElementById('floating-words');
            floatingContainer.innerHTML = '';
            createFloatingWords();

            // Refresh joyitas
            joyitasData = JSON.parse(localStorage.getItem('joyitas') || 'null') || defaultJoyitas;
            currentJoyitaIndex = 0;
            renderJoyitas();

            // Show toast
            const toast = document.getElementById('settings-toast');
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2500);
        }

        // Reset settings
        function resetSettings() {
            if (confirm('Reset all settings to defaults?')) {
                localStorage.removeItem('siteSettings');
                localStorage.removeItem('joyitas');
                siteSettings = { ...defaultSettings };
                applySettings();
                populateSettingsPanel();

                // Recreate floating words
                const floatingContainer = document.getElementById('floating-words');
                floatingContainer.innerHTML = '';
                createFloatingWords();

                // Reset joyitas
                joyitasData = [...defaultJoyitas];
                currentJoyitaIndex = 0;
                renderJoyitas();

                const toast = document.getElementById('settings-toast');
                toast.textContent = 'Settings reset!';
                toast.classList.add('show');
                setTimeout(() => {
                    toast.classList.remove('show');
                    toast.textContent = 'Settings saved!';
                }, 2500);
            }
        }

        // Event listeners for settings
        document.getElementById('settings-toggle').addEventListener('click', openSettings);
        document.getElementById('settings-close').addEventListener('click', closeSettings);
        document.getElementById('settings-overlay').addEventListener('click', closeSettings);
        document.getElementById('save-settings').addEventListener('click', saveSettings);
        document.getElementById('reset-settings').addEventListener('click', resetSettings);
        document.getElementById('add-phrase').addEventListener('click', () => {
            siteSettings.phrases.push('New phrase');
            renderPhrasesList();
        });

        document.getElementById('add-joyita').addEventListener('click', () => {
            const joyitas = JSON.parse(localStorage.getItem('joyitas') || 'null') || defaultJoyitas;
            joyitas.push({ text: 'New joyita', icon: 'üíö' });
            localStorage.setItem('joyitas', JSON.stringify(joyitas));
            renderJoyitasList();
        });

        // Initialize settings on load
        checkEditMode();
        loadSettings();

    </script>
</body>
</html>
